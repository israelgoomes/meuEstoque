{"version":3,"sources":["webpack:///src/app/sales/sales.page.html","webpack:///src/app/sales/sales-routing.module.ts","webpack:///src/app/sales/sales.module.ts","webpack:///src/app/sales/sales.page.scss","webpack:///src/app/sales/sales.page.ts"],"names":["routes","path","component","SalesPageRoutingModule","imports","forChild","exports","SalesPageModule","declarations","SalesPage","saleSrvc","spinnerSrvc","alertSrvc","productSrvc","platform","total","onCampany","JSON","parse","localStorage","getItem","storageKeys","user","isDevice","is","displayedColumns","dataSource","sales","getSales","idCompany","subscribe","sale","console","log","length","forEach","v","dtSale","dtSave","format","vlOutput","vlInput","amount","data","hide","paginator","param","confirm","updateForSale","idProduct","deleteSale","idSale","toast","ngOnInit","error","okAlert","event","filterValue","target","value","filter","trim","toLowerCase","selector","template"],"mappings":"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","file":"sales-sales-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Gestão de Estoque</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"!isDevice\\\">\\n  <mat-form-field id=\\\"filter\\\">\\n    <mat-label>Procurar</mat-label>\\n    <input matInput (keyup)=\\\"applyFilter($event)\\\">\\n  </mat-form-field>\\n\\n<div class=\\\"mat-elevation-z8\\\">\\n  <table mat-table [dataSource]=\\\"dataSource\\\">\\n\\n    <ng-container matColumnDef=\\\"name\\\">\\n      <th mat-header-cell *matHeaderCellDef> Nome </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.name}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"manufacturer\\\">\\n      <th mat-header-cell *matHeaderCellDef> Fabricante </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.manufacturer}} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"provider\\\">\\n      <th mat-header-cell *matHeaderCellDef> Fornecedor </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.provider}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"cdProductSold\\\">\\n      <th mat-header-cell *matHeaderCellDef> Código </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.cdProductSold}} </td>\\n    </ng-container>\\n   \\n    <ng-container matColumnDef=\\\"vlInput\\\">\\n      <th mat-header-cell *matHeaderCellDef> Valor Entrada</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.vlInput}} </td>\\n    </ng-container>\\n   \\n\\n    <ng-container matColumnDef=\\\"vlOutput\\\">\\n      <th mat-header-cell *matHeaderCellDef> Valor Saída</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.vlOutput}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"amount\\\">\\n      <th mat-header-cell *matHeaderCellDef> Quantidade </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.amount}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"lucro\\\">\\n      <th mat-header-cell *matHeaderCellDef> Lucro </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{(element?.vlOutput-element?.vlInput)*element?.amount}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"dtSale\\\">\\n      <th mat-header-cell *matHeaderCellDef> Data </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.dtSale}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"delete\\\">\\n      <th mat-header-cell *matHeaderCellDef> \\n    </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" >\\n           <ion-icon id=\\\"delete\\\" (click)=\\\"cancelSale(element)\\\" name=\\\"trash-bin-outline\\\"></ion-icon>      </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n  </table>\\n  <mat-paginator [pageSizeOptions]=\\\"[5, 10, 20]\\\" showFirstLastButtons></mat-paginator>\\n\\n</div>\\n</div>\\n\\n<div *ngIf=\\\"isDevice\\\">\\n\\n<mat-form-field id=\\\"filter\\\">\\n  <mat-label>Procurar</mat-label>\\n  <input matInput [(ngModel)]=\\\"args\\\">\\n</mat-form-field>\\n\\n<mat-accordion>\\n  <mat-expansion-panel *ngFor=\\\"let sale of sales | search : args\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n       {{sale.name}}\\n      </mat-panel-title>\\n      <mat-panel-description>\\n        R$ {{(sale?.vlOutput-sale?.vlInput)*sale?.amount}}, 00\\n      </mat-panel-description>\\n    </mat-expansion-panel-header>\\n\\n      <p> Fabricante: {{sale.manufacturer}} </p>\\n      <p> Fornecedor: {{sale.provider}} </p>\\n      <p> Código: {{sale.cdProductSold}} </p>\\n      <p> Preço entrada: {{sale.vlInput}} </p>\\n      <p> Preço saida: {{sale.vlOutput}} </p>\\n      <p> Quantidade: {{sale.amount}} </p>\\n  </mat-expansion-panel>\\n</mat-accordion>\\n\\n</div>\\n\\n<ion-card>\\n  <ion-card-header>\\n      <h2>Total</h2>\\n  </ion-card-header>\\n  <ion-card-content style=\\\"text-align: center;\\\">\\n      <h1 [ngClass]=\\\"total > 0 ? 'positivo' : 'negativo' \\\">R$ {{total}},00</h1>\\n  </ion-card-content>\\n</ion-card>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SalesPage } from './sales.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SalesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SalesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SalesPageRoutingModule } from './sales-routing.module';\n\nimport { SalesPage } from './sales.page';\nimport { MatFormFieldModule} from '@angular/material/form-field';\nimport { MatInputModule} from '@angular/material/input';\nimport {MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule} from '@angular/material/button';\nimport { MatCheckboxModule} from '@angular/material/checkbox';\nimport { MatPaginatorModule} from '@angular/material/paginator';\nimport { MatDividerModule} from '@angular/material/divider';\nimport { MatSelectModule} from '@angular/material/select';\nimport { MatTableModule} from '@angular/material/table';\nimport { MatExpansionModule } from \"@angular/material/expansion\";\nimport { PipesModule } from '../../pipes/pipes.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatButtonModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatDividerModule,\n    MatExpansionModule,\n    PipesModule,\n    SalesPageRoutingModule\n  ],\n  declarations: [SalesPage]\n})\nexport class SalesPageModule {}\n","export default \"table {\\n  width: 100%;\\n}\\n\\n.mat-elevation-z8 {\\n  margin: 10px;\\n}\\n\\nion-icon#delete {\\n  font-size: 20px;\\n  color: red;\\n}\\n\\nion-icon#edit {\\n  font-size: 30px;\\n  color: #62462B;\\n}\\n\\nion-header {\\n  --ion-background-color: #62462B;\\n}\\n\\nion-title {\\n  color: white;\\n}\\n\\nmat-form-field#filter {\\n  width: 99%;\\n  margin: 10px;\\n}\\n\\n.create {\\n  margin: 10px;\\n  width: 100%;\\n}\\n\\nion-card-header {\\n  text-align: center;\\n}\\n\\n.positivo {\\n  color: green;\\n}\\n\\n.negativo {\\n  color: red;\\n}\\n\\nmat-expansion-panel {\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\n.mat-expansion-panel-header-description {\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2FsZXMvQzpcXFVzZXJzXFxsc3JhZWxcXERlc2t0b3BcXGVzdG9xdWVcXGltQXBwL3NyY1xcYXBwXFxzYWxlc1xcc2FsZXMucGFnZS5zY3NzIiwic3JjL2FwcC9zYWxlcy9zYWxlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FERUU7RUFDRSxZQUFBO0FDQ0o7O0FERUE7RUFDRSxlQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLCtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUU7RUFDRSxVQUFBO0FDQ0o7O0FERUU7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FEQ0E7RUFDRSxhQUFBO0VBQ0EseUJBQUE7QUNFRiIsImZpbGUiOiJzcmMvYXBwL3NhbGVzL3NhbGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgLm1hdC1lbGV2YXRpb24tejh7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgfVxyXG5cclxuaW9uLWljb24jZGVsZXRle1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG5pb24taWNvbiNlZGl0e1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxuICBjb2xvcjogIzYyNDYyQjtcclxufVxyXG5cclxuaW9uLWhlYWRlcntcclxuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjNjI0NjJCO1xyXG59XHJcblxyXG5pb24tdGl0bGV7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG5tYXQtZm9ybS1maWVsZCNmaWx0ZXJ7XHJcbiAgd2lkdGg6IDk5JTtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5jcmVhdGV7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5pb24tY2FyZC1oZWFkZXJ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ucG9zaXRpdm97XHJcbiAgY29sb3I6IGdyZWVuO1xyXG4gIH1cclxuICBcclxuICAubmVnYXRpdm97XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxuXHJcbiAgbWF0LWV4cGFuc2lvbi1wYW5lbHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcbi5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZXNjcmlwdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG59IiwidGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm1hdC1lbGV2YXRpb24tejgge1xuICBtYXJnaW46IDEwcHg7XG59XG5cbmlvbi1pY29uI2RlbGV0ZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgY29sb3I6IHJlZDtcbn1cblxuaW9uLWljb24jZWRpdCB7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgY29sb3I6ICM2MjQ2MkI7XG59XG5cbmlvbi1oZWFkZXIge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjNjI0NjJCO1xufVxuXG5pb24tdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbm1hdC1mb3JtLWZpZWxkI2ZpbHRlciB7XG4gIHdpZHRoOiA5OSU7XG4gIG1hcmdpbjogMTBweDtcbn1cblxuLmNyZWF0ZSB7XG4gIG1hcmdpbjogMTBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1jYXJkLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnBvc2l0aXZvIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ubmVnYXRpdm8ge1xuICBjb2xvcjogcmVkO1xufVxuXG5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWRlc2NyaXB0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn0iXX0= */\";","import { Platform } from '@ionic/angular';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { configHelper } from '../configurations/configHelper';\nimport { SaleService } from '../services/sale-service/sale.service';\nimport { SpinnerService } from '../services/spinner-service/spinner.service';\nimport { AlertService } from '../services/alert-service/alert-service.service';\nimport { ProductService } from '../services/product-service/product.service';\nimport { MatPaginator } from '@angular/material/paginator';\n//import { PeriodicElement } from '../products/products.page';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-sales',\n  templateUrl: './sales.page.html',\n  styleUrls: ['./sales.page.scss'],\n})\nexport class SalesPage implements OnInit {\n\n  sales;\n  total = 0;\n  onCampany = JSON.parse(localStorage.getItem(configHelper.storageKeys.user));\n  isDevice: boolean = this.platform.is(\"cordova\"); \n\n  constructor(\n    private saleSrvc: SaleService,\n    private spinnerSrvc: SpinnerService,\n    private alertSrvc: AlertService,\n    private productSrvc: ProductService,\n    private platform: Platform\n  ) {}\n  displayedColumns: string[] = [\n    // 'edit',\n    'name',\n    'manufacturer',\n    'provider',\n    'cdProductSold',\n    'vlInput',\n    'vlOutput',\n    'amount',\n    'dtSale',\n    'lucro',\n    'delete',\n  ];\n  dataSource = new MatTableDataSource<any>(this.sales);\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n\n  ngOnInit() {\n    this.total = 0;\n    this.saleSrvc.getSales(this.onCampany[0].idCompany).subscribe((sale) => {\n      console.log(sale);\n      if (sale.length > 0) {\n        sale.forEach((v) => {\n          v.dtSale = moment(v.dtSave).format(\"DD/MM/YYYY\");\n          this.total += (v.vlOutput - v.vlInput) * v.amount;\n        });\n      }\n      this.dataSource.data = sale;\n      this.sales = sale;\n      this.spinnerSrvc.hide();\n    });\n    this.dataSource.paginator = this.paginator;\n  }\n\n  cancelSale(param) {\n    this.alertSrvc.confirm(`Deseja cancelar essa venda ?`, () => {\n      this.productSrvc.updateForSale(param.idProduct, param).subscribe(\n        () => {\n          this.saleSrvc.deleteSale(param.idSale).subscribe(() => {\n            this.alertSrvc.toast(`Venda cancelada com sucesso. `, 2000, 'top');\n            this.spinnerSrvc.hide();\n            this.ngOnInit();\n          });\n          this.spinnerSrvc.hide();\n        },\n        (error) => {\n          console.log('Erro ao excluir', error);\n          this.alertSrvc.okAlert(\n            'Erro',\n            'Erro ao tentar excluir esse produto, entre em contato com o fornecedor.'\n          );\n          this.spinnerSrvc.hide();\n        }\n      );\n    });\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n\n}\n"]}