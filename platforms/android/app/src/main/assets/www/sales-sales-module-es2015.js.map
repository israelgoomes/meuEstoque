{"version":3,"sources":["./src/app/sales/sales.page.html","./src/app/sales/sales-routing.module.ts","./src/app/sales/sales.module.ts","./src/app/sales/sales.page.scss","./src/app/sales/sales.page.ts"],"names":[],"mappings":"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","file":"sales-sales-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Gestão de Estoque</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"!isDevice\\\">\\n  <mat-form-field id=\\\"filter\\\">\\n    <mat-label>Procurar</mat-label>\\n    <input matInput (keyup)=\\\"applyFilter($event)\\\">\\n  </mat-form-field>\\n\\n<div class=\\\"mat-elevation-z8\\\">\\n  <table mat-table [dataSource]=\\\"dataSource\\\">\\n\\n    <ng-container matColumnDef=\\\"name\\\">\\n      <th mat-header-cell *matHeaderCellDef> Nome </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.name}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"manufacturer\\\">\\n      <th mat-header-cell *matHeaderCellDef> Fabricante </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.manufacturer}} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"provider\\\">\\n      <th mat-header-cell *matHeaderCellDef> Fornecedor </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.provider}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"cdProductSold\\\">\\n      <th mat-header-cell *matHeaderCellDef> Código </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.cdProductSold}} </td>\\n    </ng-container>\\n   \\n    <ng-container matColumnDef=\\\"vlInput\\\">\\n      <th mat-header-cell *matHeaderCellDef> Valor Entrada</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.vlInput}} </td>\\n    </ng-container>\\n   \\n\\n    <ng-container matColumnDef=\\\"vlOutput\\\">\\n      <th mat-header-cell *matHeaderCellDef> Valor Saída</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.vlOutput}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"amount\\\">\\n      <th mat-header-cell *matHeaderCellDef> Quantidade </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.amount}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"lucro\\\">\\n      <th mat-header-cell *matHeaderCellDef> Lucro </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{(element?.vlOutput-element?.vlInput)*element?.amount}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"dtSale\\\">\\n      <th mat-header-cell *matHeaderCellDef> Data </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element?.dtSale}}</td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"delete\\\">\\n      <th mat-header-cell *matHeaderCellDef> \\n    </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\" >\\n           <ion-icon id=\\\"delete\\\" (click)=\\\"cancelSale(element)\\\" name=\\\"trash-bin-outline\\\"></ion-icon>      </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n  </table>\\n  <mat-paginator [pageSizeOptions]=\\\"[5, 10, 20]\\\" showFirstLastButtons></mat-paginator>\\n\\n</div>\\n</div>\\n\\n<div *ngIf=\\\"isDevice\\\">\\n\\n<mat-form-field id=\\\"filter\\\">\\n  <mat-label>Procurar</mat-label>\\n  <input matInput [(ngModel)]=\\\"args\\\">\\n</mat-form-field>\\n\\n<mat-accordion>\\n  <mat-expansion-panel *ngFor=\\\"let sale of sales | search : args\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n       {{sale.name}}\\n      </mat-panel-title>\\n      <mat-panel-description>\\n        R$ {{(sale?.vlOutput-sale?.vlInput)*sale?.amount}}, 00\\n      </mat-panel-description>\\n    </mat-expansion-panel-header>\\n\\n      <p> Fabricante: {{sale.manufacturer}} </p>\\n      <p> Fornecedor: {{sale.provider}} </p>\\n      <p> Código: {{sale.cdProductSold}} </p>\\n      <p> Preço entrada: {{sale.vlInput}} </p>\\n      <p> Preço saida: {{sale.vlOutput}} </p>\\n      <p> Quantidade: {{sale.amount}} </p>\\n  </mat-expansion-panel>\\n</mat-accordion>\\n\\n</div>\\n\\n<ion-card>\\n  <ion-card-header>\\n      <h2>Total</h2>\\n  </ion-card-header>\\n  <ion-card-content style=\\\"text-align: center;\\\">\\n      <h1 [ngClass]=\\\"total > 0 ? 'positivo' : 'negativo' \\\">R$ {{total}},00</h1>\\n  </ion-card-content>\\n</ion-card>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SalesPage } from './sales.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SalesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SalesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SalesPageRoutingModule } from './sales-routing.module';\n\nimport { SalesPage } from './sales.page';\nimport { MatFormFieldModule} from '@angular/material/form-field';\nimport { MatInputModule} from '@angular/material/input';\nimport {MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule} from '@angular/material/button';\nimport { MatCheckboxModule} from '@angular/material/checkbox';\nimport { MatPaginatorModule} from '@angular/material/paginator';\nimport { MatDividerModule} from '@angular/material/divider';\nimport { MatSelectModule} from '@angular/material/select';\nimport { MatTableModule} from '@angular/material/table';\nimport { MatExpansionModule } from \"@angular/material/expansion\";\nimport { PipesModule } from '../../pipes/pipes.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatButtonModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatDividerModule,\n    MatExpansionModule,\n    PipesModule,\n    SalesPageRoutingModule\n  ],\n  declarations: [SalesPage]\n})\nexport class SalesPageModule {}\n","export default \"table {\\n  width: 100%;\\n}\\n\\n.mat-elevation-z8 {\\n  margin: 10px;\\n}\\n\\nion-icon#delete {\\n  font-size: 20px;\\n  color: red;\\n}\\n\\nion-icon#edit {\\n  font-size: 30px;\\n  color: #62462B;\\n}\\n\\nion-header {\\n  --ion-background-color: #62462B;\\n}\\n\\nion-title {\\n  color: white;\\n}\\n\\nmat-form-field#filter {\\n  width: 99%;\\n  margin: 10px;\\n}\\n\\n.create {\\n  margin: 10px;\\n  width: 100%;\\n}\\n\\nion-card-header {\\n  text-align: center;\\n}\\n\\n.positivo {\\n  color: green;\\n}\\n\\n.negativo {\\n  color: red;\\n}\\n\\nmat-expansion-panel {\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\n.mat-expansion-panel-header-description {\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2FsZXMvQzpcXFVzZXJzXFxsc3JhZWxcXERlc2t0b3BcXGVzdG9xdWVcXGltQXBwL3NyY1xcYXBwXFxzYWxlc1xcc2FsZXMucGFnZS5zY3NzIiwic3JjL2FwcC9zYWxlcy9zYWxlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FERUU7RUFDRSxZQUFBO0FDQ0o7O0FERUE7RUFDRSxlQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLCtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUU7RUFDRSxVQUFBO0FDQ0o7O0FERUU7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FEQ0E7RUFDRSxhQUFBO0VBQ0EseUJBQUE7QUNFRiIsImZpbGUiOiJzcmMvYXBwL3NhbGVzL3NhbGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgLm1hdC1lbGV2YXRpb24tejh7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgfVxyXG5cclxuaW9uLWljb24jZGVsZXRle1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG5pb24taWNvbiNlZGl0e1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxuICBjb2xvcjogIzYyNDYyQjtcclxufVxyXG5cclxuaW9uLWhlYWRlcntcclxuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjNjI0NjJCO1xyXG59XHJcblxyXG5pb24tdGl0bGV7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG5tYXQtZm9ybS1maWVsZCNmaWx0ZXJ7XHJcbiAgd2lkdGg6IDk5JTtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5jcmVhdGV7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5pb24tY2FyZC1oZWFkZXJ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ucG9zaXRpdm97XHJcbiAgY29sb3I6IGdyZWVuO1xyXG4gIH1cclxuICBcclxuICAubmVnYXRpdm97XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxuXHJcbiAgbWF0LWV4cGFuc2lvbi1wYW5lbHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcbi5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1kZXNjcmlwdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG59IiwidGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm1hdC1lbGV2YXRpb24tejgge1xuICBtYXJnaW46IDEwcHg7XG59XG5cbmlvbi1pY29uI2RlbGV0ZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgY29sb3I6IHJlZDtcbn1cblxuaW9uLWljb24jZWRpdCB7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgY29sb3I6ICM2MjQ2MkI7XG59XG5cbmlvbi1oZWFkZXIge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjNjI0NjJCO1xufVxuXG5pb24tdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbm1hdC1mb3JtLWZpZWxkI2ZpbHRlciB7XG4gIHdpZHRoOiA5OSU7XG4gIG1hcmdpbjogMTBweDtcbn1cblxuLmNyZWF0ZSB7XG4gIG1hcmdpbjogMTBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1jYXJkLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnBvc2l0aXZvIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG4ubmVnYXRpdm8ge1xuICBjb2xvcjogcmVkO1xufVxuXG5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWRlc2NyaXB0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn0iXX0= */\";","import { Platform } from '@ionic/angular';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { configHelper } from '../configurations/configHelper';\nimport { SaleService } from '../services/sale-service/sale.service';\nimport { SpinnerService } from '../services/spinner-service/spinner.service';\nimport { AlertService } from '../services/alert-service/alert-service.service';\nimport { ProductService } from '../services/product-service/product.service';\nimport { MatPaginator } from '@angular/material/paginator';\n//import { PeriodicElement } from '../products/products.page';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-sales',\n  templateUrl: './sales.page.html',\n  styleUrls: ['./sales.page.scss'],\n})\nexport class SalesPage implements OnInit {\n\n  sales;\n  total = 0;\n  onCampany = JSON.parse(localStorage.getItem(configHelper.storageKeys.user));\n  isDevice: boolean = this.platform.is(\"cordova\"); \n\n  constructor(\n    private saleSrvc: SaleService,\n    private spinnerSrvc: SpinnerService,\n    private alertSrvc: AlertService,\n    private productSrvc: ProductService,\n    private platform: Platform\n  ) {}\n  displayedColumns: string[] = [\n    // 'edit',\n    'name',\n    'manufacturer',\n    'provider',\n    'cdProductSold',\n    'vlInput',\n    'vlOutput',\n    'amount',\n    'dtSale',\n    'lucro',\n    'delete',\n  ];\n  dataSource = new MatTableDataSource<any>(this.sales);\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n\n  ngOnInit() {\n    this.total = 0;\n    this.saleSrvc.getSales(this.onCampany[0].idCompany).subscribe((sale) => {\n      console.log(sale);\n      if (sale.length > 0) {\n        sale.forEach((v) => {\n          v.dtSale = moment(v.dtSave).format(\"DD/MM/YYYY\");\n          this.total += (v.vlOutput - v.vlInput) * v.amount;\n        });\n      }\n      this.dataSource.data = sale;\n      this.sales = sale;\n      this.spinnerSrvc.hide();\n    });\n    this.dataSource.paginator = this.paginator;\n  }\n\n  cancelSale(param) {\n    this.alertSrvc.confirm(`Deseja cancelar essa venda ?`, () => {\n      this.productSrvc.updateForSale(param.idProduct, param).subscribe(\n        () => {\n          this.saleSrvc.deleteSale(param.idSale).subscribe(() => {\n            this.alertSrvc.toast(`Venda cancelada com sucesso. `, 2000, 'top');\n            this.spinnerSrvc.hide();\n            this.ngOnInit();\n          });\n          this.spinnerSrvc.hide();\n        },\n        (error) => {\n          console.log('Erro ao excluir', error);\n          this.alertSrvc.okAlert(\n            'Erro',\n            'Erro ao tentar excluir esse produto, entre em contato com o fornecedor.'\n          );\n          this.spinnerSrvc.hide();\n        }\n      );\n    });\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}